<!-- Input de búsqueda -->
<div class="search">
  <input
    type="text"
    placeholder="Buscar"
    (input)="onSearch($event)"
    class="search_input ml-5 w-80 md:w-1/2 lg:w-1/3 xl:w-1/4 px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
  />
</div>

<!-- Trabajadores organizados por categoría -->
<div class="categories mt-5">
  <div *ngFor="let category of categories">
    <!-- Título de la categoría -->

    <h1 class="text-3xl text-blue-700 ml-6 mb-2 font-semibold mt-3">
      {{ convertNameCategoryToPresentInHTML(category) }}
    </h1>
    <!-- Línea decorativa -->
    <div class="border-b-2 border-blue-500 mx-4 mb-4"></div>

    <!-- Lista de trabajadores en esta categoría -->
    <div
      *ngIf="
        categorizedWorkersSignal()[category] &&
          categorizedWorkersSignal()[category].length > 0;
        else noWorkers
      "
      class="cards grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 px-5"
    >
      <div *ngFor="let worker of categorizedWorkersSignal()[category]">
        <app-card-calification
          [worker]="worker"
          (viewMoreComments)="onWorkerSelected($event)"
        ></app-card-calification>
      </div>
    </div>
    <button
      *ngIf="
        categorizedWorkersSignal()[category] &&
        categorizedWorkersSignal()[category].length >= MAX_DISPLAY_COUNT
      "
      (click)="onViewMore(category)"
      class="align-middle mt-4 ml-4 px-6 py-2 bg-green-600 text-white font-semibold rounded-md hover:bg-blue-600 cursor-pointer"
    >
      Ver lista completa de {{ convertNameCategoryToPresentInHTML(category) }}
    </button>
    <!-- Mensaje cuando no hay trabajadores en la categoría -->
    <ng-template #noWorkers>
      <p class="text-gray-500 ml-6">No hay trabajadores en esta categoría.</p>
    </ng-template>
  </div>
</div>
