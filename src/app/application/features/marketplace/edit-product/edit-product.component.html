<div
  class="formProduct space-y-6 bg-white p-8 shadow-md rounded-lg max-w-lg mx-auto"
>
  <h2 class="text-2xl font-bold text-center text-gray-800 mb-6">
    Edita tu Producto
  </h2>

  <form [formGroup]="productForm" class="space-y-5">
    <!-- Imagen -->
    <div>
      <label class="block text-gray-700 font-medium mb-2"
        >Imagen del producto:</label
      >
      <div class="form-group">
        <input
          type="file"
          (change)="onImageSelected($event)"
          accept="image/*"
        />

        <!-- Mostrar la imagen si se ha seleccionado -->
        <img
          *ngIf="imagePreview()"
          [src]="imagePreview()"
          alt="Vista previa del producto"
          class="mt-2 max-w-xs rounded"
        />
      </div>
    </div>

    <!-- Título -->
    <div>
      <label class="block text-gray-600 font-semibold mb-2">Título:</label>
      <input
        type="text"
        formControlName="title"
        class="w-full p-2 border rounded-lg focus:outline-none focus:ring focus:ring-blue-200"
      />
      <small
        *ngIf="
          productForm.get('title')?.invalid && productForm.get('title')?.touched
        "
        class="text-red-500"
        >Este campo es requerido</small
      >
    </div>

    <!-- Descripción -->
    <div>
      <label class="block text-gray-600 font-semibold mb-2">Descripción:</label>
      <textarea
        formControlName="description"
        rows="4"
        class="w-full p-2 border rounded-lg focus:outline-none focus:ring focus:ring-blue-200"
      ></textarea>
      <small
        *ngIf="
          productForm.get('description')?.invalid &&
          productForm.get('description')?.touched
        "
        class="text-red-500"
      >
        Este campo es requerido y no debe exceder 500 caracteres
      </small>
    </div>

    <!-- Precio -->
    <div>
      <label class="block text-gray-600 font-semibold mb-2">Precio:</label>
      <input
        type="number"
        formControlName="price"
        class="w-full p-2 border rounded-lg focus:outline-none focus:ring focus:ring-blue-200"
      />
      <small
        *ngIf="
          productForm.get('price')?.invalid && productForm.get('price')?.touched
        "
        class="text-red-500"
      >
        Ingrese un precio válido
      </small>
    </div>

    <!-- Estado -->
    <div>
      <label class="block text-gray-600 font-semibold mb-2">Estado:</label>
      <select
        formControlName="state"
        class="w-full p-2 border rounded-lg focus:outline-none focus:ring focus:ring-blue-200"
      >
        <option value="" disabled selected>
          Selecciona el estado del producto
        </option>
        <option *ngFor="let state of stateTypes" [value]="state">
          {{ translateState(state) }}
        </option>
      </select>
      <small
        *ngIf="
          productForm.get('state')?.invalid && productForm.get('state')?.touched
        "
        class="text-red-500"
      >
        Debes seleccionar un estado
      </small>
    </div>

    <!-- Botón de envío -->
    <button
      type="submit"
      (click)="submitProduct()"
      [disabled]="loading()"
      class="w-full bg-blue-600 text-white p-2 rounded hover:bg-blue-700 transition duration-200 disabled:bg-blue-300"
    >
      {{ loading() ? "Cargando..." : "Editar producto" }}
    </button>
  </form>
</div>
